[gd_scene load_steps=8 format=3 uid="uid://22g1ee03m4xd"]

[ext_resource type="Script" path="res://Scripts/Units/Unit Scripts/Unit.gd" id="1_6qilm"]
[ext_resource type="Script" path="res://Scripts/Units/Movement Scripts/UnitMove.gd" id="2_iaqot"]
[ext_resource type="Script" path="res://Scripts/Units/Attack Scripts/UnitAttack.gd" id="3_ifee8"]
[ext_resource type="Texture2D" uid="uid://ywxqn7k5dgn" path="res://Art Assets/Textures/AllyTextures/bear_parts.png" id="5_v7ecj"]
[ext_resource type="PackedScene" uid="uid://drh5slfmagly0" path="res://Scenes/Units/HealthBar.tscn" id="6_d3f7d"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5hdqn"]
size = Vector2(41, 121)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_omf0h"]
size = Vector2(33.6021, 26.5789)

[node name="Bear" type="CharacterBody2D" groups=["PlayerUnits"]]
collision_layer = 4
script = ExtResource("1_6qilm")
health = 20.0
type = 2

[node name="Movement" type="Node2D" parent="."]
position = Vector2(0, -57.6581)
script = ExtResource("2_iaqot")
moveSpeed = -100.0

[node name="Attack" type="Node2D" parent="."]
position = Vector2(0, -57.6581)
script = ExtResource("3_ifee8")
attackDamage = 5.0
groupToAttack = "EnemyUnits"

[node name="AttackArea" type="Area2D" parent="."]
position = Vector2(-205, -62)
collision_mask = 2

[node name="AttackRadius" type="CollisionShape2D" parent="AttackArea"]
position = Vector2(57.5, 0.5)
shape = SubResource("RectangleShape2D_5hdqn")

[node name="UnitHitbox" type="CollisionShape2D" parent="."]
position = Vector2(-63.5, -51.5)
scale = Vector2(3.72, 3.8)
shape = SubResource("RectangleShape2D_omf0h")

[node name="HealthBar" parent="." instance=ExtResource("6_d3f7d")]
position = Vector2(-99, -109)

[node name="SkeletonHolder" type="Node2D" parent="."]

[node name="Parts" type="Node2D" parent="SkeletonHolder"]

[node name="Head" type="Polygon2D" parent="SkeletonHolder/Parts"]
position = Vector2(0, -114)
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(73, 169, 39, 202, 34, 228, 5, 256, 9, 282, 24, 305, 52, 309, 102, 290, 121, 263, 145, 238, 142, 198, 108, 168)
uv = PackedVector2Array(73, 169, 39, 202, 34, 228, 5, 256, 9, 282, 24, 305, 52, 309, 102, 290, 121, 263, 145, 238, 142, 198, 108, 168)

[node name="Body" type="Polygon2D" parent="SkeletonHolder/Parts"]
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(84.1584, 37.6238, 75.2475, 140.594, 93.0693, 163.366, 188.119, 208.911, 341.584, 125.743, 438.614, 194.059, 509.901, 171.287, 515.842, 56.4356, 335.644, 4.9505, 123.762, 16.8317)
uv = PackedVector2Array(84.1584, 37.6238, 75.2475, 140.594, 93.0693, 163.366, 188.119, 208.911, 341.584, 125.743, 438.614, 194.059, 509.901, 171.287, 515.842, 56.4356, 335.644, 4.9505, 123.762, 16.8317)

[node name="LegFT" type="Polygon2D" parent="SkeletonHolder/Parts"]
position = Vector2(0, -104.762)
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(165.347, 239.604, 147.525, 343.564, 105.941, 376.238, 113.861, 401.98, 189.109, 402.97, 239.604, 349.505, 241.584, 248.515, 200, 223.762)
uv = PackedVector2Array(165.347, 239.604, 147.525, 343.564, 105.941, 376.238, 113.861, 401.98, 189.109, 402.97, 239.604, 349.505, 241.584, 248.515, 157.426, 234.653)

[node name="LegFB" type="Polygon2D" parent="SkeletonHolder/Parts"]
position = Vector2(0, -104.762)
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(154.455, 248.515, 155.446, 343.564, 107.921, 383.168, 125.743, 408.911, 212.871, 398.02, 250.495, 237.624)
uv = PackedVector2Array(154.455, 248.515, 155.446, 343.564, 107.921, 383.168, 125.743, 408.911, 212.871, 398.02, 250.495, 237.624)

[node name="LegBT" type="Polygon2D" parent="SkeletonHolder/Parts"]
position = Vector2(0, -102.802)
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(400.99, 245.545, 412.871, 356.436, 378.218, 376.238, 386.139, 400, 481.188, 403.96, 490.099, 326.733, 519.802, 261.386, 476.238, 224.752)
uv = PackedVector2Array(400.99, 245.545, 412.871, 356.436, 378.218, 376.238, 386.139, 400, 481.188, 403.96, 490.099, 326.733, 519.802, 261.386, 476.238, 224.752)

[node name="LegBB" type="Polygon2D" parent="SkeletonHolder/Parts"]
position = Vector2(0, -102.802)
texture = ExtResource("5_v7ecj")
polygon = PackedVector2Array(414.851, 237.624, 406.931, 287.129, 411.881, 356.436, 381.188, 374.257, 386.139, 405.941, 481.188, 398.02, 481.188, 338.614, 515.842, 256.436, 472.277, 219.802)
uv = PackedVector2Array(414.851, 237.624, 406.931, 287.129, 411.881, 356.436, 381.188, 374.257, 386.139, 405.941, 481.188, 398.02, 481.188, 338.614, 515.842, 256.436, 472.277, 219.802)

[node name="Skeleton2D" type="Skeleton2D" parent="SkeletonHolder"]

[connection signal="StartedAttacking" from="Attack" to="Movement" method="_on_attack_started_attacking"]
[connection signal="StoppedAttacking" from="Attack" to="Movement" method="_on_attack_stopped_attacking"]
[connection signal="body_entered" from="AttackArea" to="Attack" method="_on_attack_area_body_entered"]
[connection signal="body_exited" from="AttackArea" to="Attack" method="_on_attack_area_body_exited"]
